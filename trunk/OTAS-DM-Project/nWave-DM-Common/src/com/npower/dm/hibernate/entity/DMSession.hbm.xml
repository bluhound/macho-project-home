<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!--
  * $Header: /home/master/nWave-DM-Common/src/com/npower/dm/hibernate/entity/DMSession.hbm.xml,v 1.2 2006/12/26 03:15:19 zhao Exp $
  * $Revision: 1.2 $
  * $Date: 2006/12/26 03:15:19 $
-->
<hibernate-mapping>
    <class name="com.npower.dm.hibernate.entity.DMSession" table="NW_DM_DM_SESSION">
        <id name="dmSessionId" type="long" unsaved-value="0">
            <column name="DM_SESSION_ID" precision="16" scale="0" />
            <generator class="native"><param name="sequence">nwavedm_global_sequence</param></generator>
        </id>
        <many-to-one name="nwDmDmPkgHandler" class="com.npower.dm.hibernate.entity.DMPackageHandler" fetch="select">
            <column name="CUR_PKG_HANDLER_ID" precision="16" scale="0" />
        </many-to-one>
        <many-to-one name="nwDmSessionAuth" class="com.npower.dm.hibernate.entity.SessionAuth" fetch="select">
            <column name="SESSION_AUTH_ID" precision="16" scale="0" />
        </many-to-one>
        <many-to-one name="nwDmDmCmdSession" class="com.npower.dm.hibernate.entity.DMCommandSession" fetch="select">
            <column name="CMD_SESSION_HANDLER_ID" precision="16" scale="0" />
        </many-to-one>
        <property name="externalId" type="string">
            <column name="EXTERNAL_ID" />
        </property>
        <property name="isClientAuthenticated" type="long">
            <column name="IS_CLIENT_AUTHENTICATED" precision="1" scale="0" />
        </property>
        <property name="isServerAuthenticated" type="long">
            <column name="IS_SERVER_AUTHENTICATED" precision="1" scale="0" />
        </property>
        <property name="isServerUsingHmac" type="long">
            <column name="IS_SERVER_USING_HMAC" precision="1" scale="0" />
        </property>
        <property name="serverAuthType" type="string">
            <column name="SERVER_AUTH_TYPE" length="100" />
        </property>
        <property name="maxMsgSize" type="long">
            <column name="MAX_MSG_SIZE" precision="16" scale="0" />
        </property>
        <property name="maxObjSize" type="long">
            <column name="MAX_OBJ_SIZE" precision="16" scale="0" />
        </property>
        <property name="numServerAuthAttempts" type="long">
            <column name="NUM_SERVER_AUTH_ATTEMPTS" precision="16" scale="0" />
        </property>
        <property name="deviceExternalId" type="string">
            <column name="DEVICE_EXTERNAL_ID" />
        </property>
        <property name="curServerNonce" type="string">
            <column name="CUR_SERVER_NONCE" />
        </property>
        <property name="curClientNonce" type="string">
            <column name="CUR_CLIENT_NONCE" />
        </property>
        <property name="msgIdCounter" type="long">
            <column name="MSG_ID_COUNTER" precision="16" scale="0" />
        </property>
        <property name="curMsgIdProc" type="string">
            <column name="CUR_MSG_ID_PROC" length="40" not-null="true" />
        </property>
        <set name="nwDmSessionAuths" inverse="true">
            <key>
                <column name="SESSION_ID" precision="16" scale="0" />
            </key>
            <one-to-many class="com.npower.dm.hibernate.entity.SessionAuth" />
        </set>
        <set name="nwDmDmPkgHandlers" inverse="true">
            <key>
                <column name="DM_SESSION_ID" precision="16" scale="0" />
            </key>
            <one-to-many class="com.npower.dm.hibernate.entity.DMPackageHandler" />
        </set>
        <set name="nwDmPrevPkgResps" inverse="true">
            <key>
                <column name="DM_SESSION_ID" precision="16" scale="0" not-null="true" />
            </key>
            <one-to-many class="com.npower.dm.hibernate.entity.PrevPkgResp" />
        </set>
    </class>
</hibernate-mapping>
